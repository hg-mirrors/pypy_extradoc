PyPy and CFFI have moved to Heptapod
====================================

It has been a very busy month, not so much because of deep changes in the JIT
of PyPy but more around the development, deployment, and packaging of the
project. 

Hosting
-------

The biggest news is that we have moved the center of our development
off bitbucket and to the new https://foss.heptapod.net/pypy. This is an
instance of `heptapod`_ running on Gitlab and hosted by `Clever Cloud`_. When
Atlassian decided to close down mercurial hosting on bitbucket.org, PyPy
debated what to do. Our development model is based on long-lived branches, and
we want to keep the ability to immediately see which branch each commit came
from. Mercurial has this, git does not (see `our FAQ`_). Also mercurial is
written in Python, and there is something to be said about preserving another
way of doing things. Octobus_, whose business is Mercurial, developed an way to
use Mercurial with Gitlab called heptapod. The product is still `under
development`_, but quite usable (i.e., it doesn't get in the way). In order to
help the FOSS world stay on Mercurial, Octobus partnered with Clever Cloud
hosting to offer community FOSS projects hosted on bitbucket a new home. PyPy
took them up on the offer this week, and migrated its repos to
https://foss.heptapod.net/pypy. We were very happy with how smooth it was to
import the repos to heptapod/GitLab, and are learning the small differences
between bitbucket and gitlab. All the pull requests, issues, and commits kept
the same ids, but work is still being done to attribute the issues, pull
requests, and comments to the correct users. So from now onwhen you want to
contribute to PyPy, you do so at the new home. 

CFFI, which previously was also hosted on bitbucket, has joined the PyPy group
at https://foss.heptapod.net/pypy/cffi.

Website
-------

Thanks to work by https://baroquesoftware.com/ in leading a redesign and
updating the logo, the https://www.pypy.org website has undergone a facelift.
It should now be easier to use on small-screen devices. Thanks also to the PSF
for hosting the site.

Packaging
---------

Building PyPy from source takes a fair amount of time. While we provide
downloads in the form of tarballs or zipfiles, and some platforms such as
debian and brew provide packages, traditionally the downloads have only worked
on a specific flavor of operating system. A few years ago squeaky-pl started
providing `portable builds`_. We have adopted that build system for our linux
offerings, so the `nightly downloads`_ and `release downloads`_ should now work
on any glibc platform that has not gone EndOfLife. So there goes another excuse
not to use PyPy. And the "but does it run scipy" excuse also no longer holds,
although "does it speed up scipy" still has the wrong answer. For that we are
working on HPy_, and will be `sprinting soon`_. 

The latest versions of pip, wheel, and setuptools, together with the
manylinxu2010 standard for linux wheels and tools such as `cibuildwheels`_ and
`multibuild` make it easier for library developers to build binary wheels for
PyPy. If you are having problems getting going with this, please reach out.

For dessert: better warmup time
===============================

Just because we are working on making PyPy easier to use doesn't mean we have
stopped other efforts. For instance we recently commited changes that
speed up warmup time by 15%.

Give it a try
=============

Thanks to all the folks who provide the infrastructure PyPy depends on. We hope
the new look will encourage more involvement and engagement, help prove us
right!

The PyPy Team


.. _heptapod:: https://heptapod.net
.. _`Clever Cloud`:: https://www.clever-cloud.com/en/heptapod
.. _`our FAQ`:: http://doc.pypy.org/en/latest/faq.html#why-doesn-t-pypy-use-git-and-move-to-github
.. _`Octobus`:: https://octobus.net/
.. _`under development`:: https://heptapod.net/pages/getting-involved.html
.. _`portable builds`:: https://github.com/squeaky-pl/portable-pypy
.. _`HPy`:: https://morepypy.blogspot.com/2019/12/hpy-kick-off-sprint-report.html
.. _`sprinting soon`:: https://morepypy.blogspot.com/2020/01/leysin-winter-sprint-2020-feb-28-march.html
.. _`cibuildwheels`:: https://github.com/joerick/cibuildwheel
.. _`multibuild`:: https://github.com/matthew-brett/multibuild/
